<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Financial Trading Dashboard</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body class="bg-light">

<div class="container mt-4">
    <h2 class="text-center mb-4">ðŸ’¹ Financial Trading Monitoring System</h2>

    <!-- Summary Cards -->
    <div class="row mb-4 text-center">
        <div class="col-md-6">
            <div class="card shadow-sm p-3">
                <h5>Total Profit</h5>
                <h3 class="text-success">â‚¹{{ total_profit }}</h3>
            </div>
        </div>
        <div class="col-md-6">
            <div class="card shadow-sm p-3">
                <h5>Total Loss</h5>
                <h3 class="text-danger">â‚¹{{ total_loss }}</h3>
            </div>
        </div>
    </div>

    <!-- Add Trade Form -->
    <div class="card p-4 shadow-sm mb-4">
        <h5>Add New Trade</h5>
        <form action="/add" method="post" class="row g-3">
            <div class="col-md-3">
                <input type="text" name="stock" class="form-control" placeholder="Stock Name" required>
            </div>
            <div class="col-md-3">
                <input type="number" name="amount" class="form-control" placeholder="Amount" required>
            </div>
            <div class="col-md-3">
                <input type="number" name="profit" class="form-control" placeholder="Profit/Loss" required>
            </div>
            <div class="col-md-3">
                <button class="btn btn-primary w-100" type="submit">Add Trade</button>
            </div>
        </form>
    </div>

    <!-- Trade Table -->
    <div class="card p-4 shadow-sm">
        <h5>Trade Records</h5>
        <table class="table table-hover mt-3">
            <thead class="table-dark">
                <tr>
                    <th>Stock</th>
                    <th>Amount</th>
                    <th>Profit/Loss</th>
                    <th>Timestamp</th>
                    <th>Action</th>
                </tr>
            </thead>
            <tbody>
                {% for t in trades %}
                <tr>
                    <td>{{ t.stock if t.stock is defined else '-' }}</td>
                    <td>â‚¹{{ t.amount if t.amount is defined else 0 }}</td>
                    <td class="{% if t.profit is defined and t.profit|float > 0 %}text-success{% else %}text-danger{% endif %}">
                        â‚¹{{ t.profit if t.profit is defined else 0 }}
                    </td>
                    <td>{{ t.timestamp if t.timestamp is defined else '-' }}</td>
                    <td>
                        <a href="/delete/{{ t.id }}" class="btn btn-sm btn-outline-danger">Delete</a>
                    </td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>

    <!-- Resource Monitor Button -->
    <div class="text-center mt-4">
        <a href="/resource_monitor" class="btn btn-outline-primary">View Cloud Resource Monitor</a>
    </div>
</div>

</body>
</html>
